/*----------------------------------------------------------------------------------------------------------------------------------------------------------------------------*//**
*
*  \file                common_support_tasks.h
*
*  \brief               Header file for \ref common_support_tasks.c
*
*  \author              Ruediger Radtke
*  \version             1.1
*
*  \date                2011-08-30     Initial version.
*  \date                2012-07-13     v1.1 Added task prototype \ref TSK_CommonSupportTasks_MainboardVoltageMonitoring.
*
*
*//*---------------------------------------------------------------------------------------------------------------------------------------------------------------------------*//*
*   Copyright(c) 2010-2011 Sykam GmbH. All rights reserved.
*--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/

#ifndef COMMON_SUPPORT_TASKS__H
#define COMMON_SUPPORT_TASKS__H


//---------------------------------------------- function prototypes ---------------------------------------------------------------------------

__task   void     TSK_CommonSupportTasks_DeviceRunTimeCounter        (void);
__task   void     TSK_CommonSupportTasks_MainboardVoltageMonitoring  (void);

#endif


// docu of tasks
/**--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
*
*  \fn         __task void TSK_CommonSupportTasks_DeviceRunTimeCounter (void)
*
*  \brief      This task is responsible to write periodically the run-time seconds of device into common register bank (status data)
*              and to permanent memory. The period of 10 s is set with function \ref RttRestart which is called at start-up and at 
*              the reset of run-time counter (command \ref CommonCmdsOwner_DeviceRunTimeCounterReset).
*
*--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/**--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
*
*  \fn         __task void TSK_CommonSupportTasks_MainboardVoltageMonitoring (void)
*
*  \brief      This task observes the mainboard voltages. For this purpose the internal ADC is used. The voltage monitoring must be 
*              configured by user in \ref SA_AT91SAM7X_MainboardVoltageMonitoring and in board file \ref AT91SAM7X.h. The user has to
*              set voltage threshold levels as well as available ADC input connections. The task is repeated cyclic with a user period
*              of \ref AT91SAM7X__ADC_MAINBOARD_VOLTAGE_MONITORING_CLOCK_IN_MS. Additionally user can prevent voltage threshold alarms
*              by disabling the voltage monitoring (set register \ref COMMON_REGISTERS__MODBUS_ADDR_HREG__MAINBOARD_VOLTAGE_MONITORING).
*
*--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
